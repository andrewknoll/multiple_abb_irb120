<launch>

  <arg name="robot_name" default="robot1"/>

  <!-- load the joint state controller -->
  <rosparam file="$(find abb_irb120_gazebo)/config/joint_state_controller.yaml" command="load" ns="$(arg robot_name)" />
  <node name="joint_state_controller_spawner" pkg="controller_manager" type="controller_manager" args="spawn joint_state_controller" ns="$(arg robot_name)"/>

  <!-- load the arm controller WITH SUBSTITUTION VALUES -->
  <rosparam command="load" file="$(find my_abb_irb120)/config/irb120_3_58_arm_controller.yaml" subst_value="true">
  </rosparam>

  <node name="abb_irb120_controller_spawner" pkg="controller_manager" type="controller_manager" args="spawn arm_controller" ns="$(arg robot_name)"/>

</launch>
